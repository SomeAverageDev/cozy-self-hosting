{"version":3,"sources":["app/application.js","app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA","file":"public\\javascripts\\app.js","sourcesContent":["var refresh_fqdn = function() {\r\n    // Get fqdn from CozyDB\r\n    $.get(\"./debian/fqdn\", function(data) {\r\n        // And update view\r\n        $(\"#input-fqdn\").val(data);\r\n    });\r\n};\r\n\r\nvar save_fqdn = function() {\r\n    // Get new value in input text\r\n    var form_value = $(\"#input-fqdn\").val();\r\n    // Push configuration\r\n    $.post(\"./debian/fqdn\", {fqdn: form_value}, function(data) {\r\n        $(\"#div-status-ko\").hide();\r\n        $(\"#div-status-ok\").html(data.message).show();\r\n    });\r\n};\r\n\r\nvar host_halt = function() {\r\n\t// ask for halt host\r\n\t$(\"#button-halt\").confirmation('hide')\r\n    $.get(\"./debian/host/halt\", function(data) {\r\n        $(\"#div-status-ko\").hide();\r\n        $(\"#div-status-ok\").html(data.message).show();\r\n    });\r\n};\r\n\r\nvar host_reboot = function() {\r\n\t// ask for halt host\r\n\t$(\"#button-reboot\").confirmation('hide')\r\n    $.get(\"./debian/host/reboot\", function(data) {\r\n        $(\"#div-status-ko\").hide();\r\n        $(\"#div-status-ok\").html(data.message).show();\r\n    });\r\n};\r\n\r\nvar Application = {\r\n  initialize: function () {\r\n      refresh_fqdn();\r\n      $(\"#button-refresh\").click(function() {\r\n          refresh_fqdn();\r\n      });\r\n      $(\"#button-reconfigure\").click(function() {\r\n          save_fqdn();\r\n      });\r\n\r\n\t  $(\"#button-halt\").confirmation({\r\n\t\t\"title\": \"Do you really want to halt the host ?\",\r\n\t\t\"btnOkClass\": \"btn-danger\",\r\n\t\t\"btnCancelClass\": \"btn-info\",\r\n\t\t\"btnOkLabel\": \"HALT\",\r\n\t\t\"btnCancelLabel\": \"CANCEL\",\r\n\t\t\"placement\": \"bottom\",\r\n\t\t\"popout\": true,\r\n\t\t\"singleton\": true,\r\n\t\t\"onConfirm\": host_halt\r\n\t  });\r\n\t  $(\"#button-reboot\").confirmation({\r\n\t\t\"title\": \"Do you really want to reboot the host ?\",\r\n\t\t\"btnOkClass\": \"btn-warning\",\r\n\t\t\"btnCancelClass\": \"btn-info\",\r\n\t\t\"btnOkLabel\": \"REBOOT\",\r\n\t\t\"btnCancelLabel\": \"CANCEL\",\r\n\t\t\"placement\": \"bottom\",\r\n\t\t\"popout\": true,\r\n\t\t\"singleton\": true,\r\n\t\t\"onConfirm\": host_reboot\r\n\t  });\r\n\r\n      $(document).ajaxError(function(event, jqxhr, settings, thrownError) {\r\n        $(\"#div-status-ok\").hide();\r\n\t\tvar data = JSON.parse(jqxhr.responseText);\r\n\t\tif (data.message) {\r\n\t\t\t$(\"#div-status-ko\").html(thrownError + ':<br/>\\n' + data.message).show();\r\n\t\t} else {\r\n\t\t\t$(\"#div-status-ko\").html(thrownError + ':<br/>\\n' + jqxhr.responseText).show();\r\n\t\t}\r\n      });\r\n  }\r\n};\r\n\r\nmodule.exports = Application;\r\n","var application = require('application');\r\n\r\n$(function () {\r\n  application.initialize();\r\n});\r\n"]}